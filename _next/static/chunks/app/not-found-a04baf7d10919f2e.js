(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[160],{4347:function(e,t,r){Promise.resolve().then(r.bind(r,3978))},3978:function(e,t,r){"use strict";r.d(t,{GameOfLife:function(){return l}});var n=r(9533),i=r(1229);let l=()=>{let e=(0,i.useRef)(null),t=(0,i.useRef)(null),[r,l]=(0,i.useState)(!1),[u,o]=(0,i.useState)({prev:void 0,current:void 0}),[{width:c,height:f},a]=(0,i.useState)({width:0,height:0});(0,i.useEffect)(()=>{let r=()=>{t.current&&clearTimeout(t.current),e.current&&(e.current.style.opacity="0",l(!1),a({width:Math.floor(window.innerWidth/10),height:Math.floor(window.innerHeight/10)}),t.current=setTimeout(()=>{e.current&&(e.current.style.opacity="1",e.current.width=window.innerWidth,e.current.height=window.innerHeight,l(!0))},1e3))};return r(),window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}},[]);let d=(0,i.useCallback)(()=>{if(!c||!f)return;let e=Array.from({length:f},()=>Array.from({length:c},()=>Math.round(Math.random()-.35)));o({prev:e,current:e})},[c,f]),s=(0,i.useCallback)(()=>{o(e=>{let t=e.current;if(!t)return e;let r=Array.from({length:f},()=>Array.from({length:c},()=>0));for(let e=0;e<f;e++)for(let f=0;f<c;f++){var n,i,l,u,o,a,d,s;let c=[null===(n=t[e-1])||void 0===n?void 0:n[f-1],null===(i=t[e-1])||void 0===i?void 0:i[f],null===(l=t[e-1])||void 0===l?void 0:l[f+1],null===(u=t[e])||void 0===u?void 0:u[f-1],null===(o=t[e])||void 0===o?void 0:o[f+1],null===(a=t[e+1])||void 0===a?void 0:a[f-1],null===(d=t[e+1])||void 0===d?void 0:d[f],null===(s=t[e+1])||void 0===s?void 0:s[f+1]].filter(e=>1===e).length;1===t[e][f]?r[e][f]=2===c||3===c?1:0:r[e][f]=3===c?1:0}return{prev:t,current:r}})},[c,f]),v=(0,i.useRef)(null);return(0,i.useEffect)(()=>{r&&d()},[d,r]),(0,i.useEffect)(()=>(v.current=setInterval(()=>{s()},250),()=>{v.current&&clearInterval(v.current)}),[s]),(0,i.useEffect)(()=>{if(!u.current||!u.prev||!e.current||!r)return;let t=e.current.getContext("2d");if(!t)return;t.clearRect(0,0,e.current.width,e.current.height);let n=document.documentElement.classList.contains("dark")?"dark":"light";for(let e=0;e<f;e++)for(let r=0;r<c;r++)1===u.prev[e][r]&&(t.fillStyle="dark"===n?"#0f0f0f":"#f8f8f8",t.fillRect(10*r,10*e,10,10)),1===u.current[e][r]&&(t.fillStyle="dark"===n?"#0d0d0d":"#eeeeee",t.fillRect(10*r,10*e,10,10))},[u,c,f,r]),(0,n.jsx)("canvas",{style:{transition:"opacity 1s",opacity:0,position:"absolute"},ref:e,className:"game-of-life-canvas"})}}},function(e){e.O(0,[170,842,744],function(){return e(e.s=4347)}),_N_E=e.O()}]);