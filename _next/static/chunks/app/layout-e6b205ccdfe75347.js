(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{2088:function(e,t,n){Promise.resolve().then(n.bind(n,942)),Promise.resolve().then(n.t.bind(n,7675,23))},942:function(e,t,n){"use strict";n.d(t,{JotaiProvider:function(){return O}});var l=n(9533),r=n(1229);let o=(e,t)=>e.unstable_is?e.unstable_is(t):t===e,i=e=>"init"in e,s=e=>!!e.write,a=Symbol("CONTINUE_PROMISE"),d="pending",u=e=>"object"==typeof e&&null!==e&&a in e,f=new WeakMap,c=(e,t,n)=>{if(!f.has(e)){let l;let r=new Promise((o,i)=>{let s=e,a=e=>t=>{s===e&&(r.status="fulfilled",r.value=t,o(t),n())},d=e=>t=>{s===e&&(r.status="rejected",r.reason=t,i(t),n())};e.then(a(e),d(e)),l=(e,n)=>{e&&(f.set(e,r),s=e,e.then(a(e),d(e)),t(),t=n)}});r.status=d,r[a]=l,f.set(e,r)}return f.get(e)},v=e=>"function"==typeof(null==e?void 0:e.then),m=e=>"v"in e||"e"in e,w=e=>{if("e"in e)throw e.e;if(!("v"in e))throw Error("[Bug] atom state is not initialized");return e.v},h=e=>{let t=e.v;return u(t)&&t.status===d?t:null},p=(e,t,n)=>{n.p.has(e)||(n.p.add(e),t.then(()=>{n.p.delete(e)},()=>{n.p.delete(e)}))},b=()=>[new Map,new Map,new Set],_=(e,t,n)=>{e[0].has(t)||e[0].set(t,new Set),e[1].set(t,n)},g=(e,t,n)=>{let l=e[0].get(t);l&&l.add(n)},S=(e,t)=>e[0].get(t),y=(e,t)=>{e[2].add(t)},k=e=>{for(;e[1].size||e[2].size;){e[0].clear();let t=new Set(e[1].values());e[1].clear();let n=new Set(e[2]);e[2].clear(),t.forEach(e=>{var t;return null==(t=e.m)?void 0:t.l.forEach(e=>e())}),n.forEach(e=>e())}},E=()=>{let e;let t=new WeakMap;e=new Set;let n=e=>{let n=t.get(e);return n||(n={d:new Map,p:new Set,n:0},t.set(e,n)),n},l=(e,t,l,r=()=>{},o=()=>{})=>{let i="v"in t,s=t.v,u=h(t);if(v(l)){if(u)u!==l&&(u[a](l,r),++t.n);else{let i=c(l,r,o);if(i.status===d)for(let l of t.d.keys())p(e,i,n(l));t.v=i,delete t.e}}else u&&u[a](Promise.resolve(l),r),t.v=l,delete t.e;(!i||!Object.is(s,t.v))&&++t.n},r=(e,t,l,r)=>{var o;if(l===t)throw Error("[Bug] atom cannot depend on itself");let i=n(t);i.d.set(l,r.n);let s=h(i);s&&p(t,s,r),null==(o=r.m)||o.t.add(t),e&&g(e,l,t)},u=(e,t,a)=>{let d,f;let c=n(t);if(!(null==a?void 0:a(t))&&m(c)&&(c.m||Array.from(c.d).every(([t,n])=>u(e,t,a).n===n)))return c;c.d.clear();let v=!0;try{let h=t.read(s=>{if(o(t,s)){let e=n(s);if(!m(e)){if(i(s))l(s,e,s.init);else throw Error("no atom init")}return w(e)}let d=u(e,s,a);if(v)r(e,t,s,d);else{let e=b();r(e,t,s,d),M(e,t,c),k(e)}return w(d)},{get signal(){return d||(d=new AbortController),d.signal},get setSelf(){return s(t)||console.warn("setSelf function cannot be used with read-only atom"),!f&&s(t)&&(f=(...e)=>{if(v&&console.warn("setSelf function cannot be called in sync"),!v)return j(t,...e)}),f}});return l(t,c,h,()=>null==d?void 0:d.abort(),()=>{if(c.m){let e=b();M(e,t,c),k(e)}}),c}catch(e){return delete c.v,c.e=e,++c.n,c}finally{v=!1}},f=(e,t)=>{let l=t=>{var l,r;let o=n(t),i=new Set(null==(l=o.m)?void 0:l.t);for(let e of o.p)i.add(e);return null==(r=S(e,t))||r.forEach(e=>{i.add(e)}),i},r=[],o=new Set,i=e=>{if(!o.has(e)){for(let t of(o.add(e),l(e)))e!==t&&i(t);r.push(e)}};i(t);let s=new Set([t]),a=e=>o.has(e);for(let t=r.length-1;t>=0;--t){let l=r[t],i=n(l),d=i.n,f=!1;for(let e of i.d.keys())if(e!==l&&s.has(e)){f=!0;break}f&&(u(e,l,a),M(e,l,i),d!==i.n&&(_(e,l,i),s.add(l))),o.delete(l)}},E=(e,t,...r)=>t.write(t=>w(u(e,t)),(r,...s)=>{let a;if(o(t,r)){if(!i(r))throw Error("atom not writable");let t=n(r),o="v"in t,a=t.v;l(r,t,s[0]),M(e,r,t),o&&Object.is(a,t.v)||(_(e,r,t),f(e,r))}else a=E(e,r,...s);return k(e),a},...r),j=(e,...t)=>{let n=b(),l=E(n,e,...t);return k(n),l},M=(e,t,n)=>{if(n.m&&!h(n)){for(let l of n.d.keys())n.m.d.has(l)||(O(e,l).t.add(t),n.m.d.add(l));for(let l of n.m.d||[])if(!n.d.has(l)){let r=P(e,l);null==r||r.t.delete(t),n.m.d.delete(l)}}},O=(t,l)=>{let r=n(l);if(!r.m){for(let e of(u(t,l),r.d.keys()))O(t,e).t.add(l);if(r.m={l:new Set,d:new Set(r.d.keys()),t:new Set},e.add(l),s(l)&&l.onMount){let e=r.m,{onMount:n}=l;y(t,()=>{let r=n((...e)=>E(t,l,...e));r&&(e.u=r)})}}return r.m},P=(t,l)=>{let r=n(l);if(r.m&&!r.m.l.size&&!Array.from(r.m.t).some(e=>n(e).m)){let n=r.m.u;for(let o of(n&&y(t,n),delete r.m,e.delete(l),r.d.keys())){let e=P(t,o);null==e||e.t.delete(l)}let o=h(r);o&&o[a](void 0,()=>{});return}return r.m};return{get:e=>w(u(void 0,e)),set:j,sub:(e,t)=>{let n=b(),l=O(n,e);k(n);let r=l.l;return r.add(t),()=>{r.delete(t);let n=b();P(n,e),k(n)}},dev4_get_internal_weak_map:()=>t,dev4_get_mounted_atoms:()=>e,dev4_restore_atoms:e=>{let t=b();for(let[r,o]of e)if(i(r)){let e=n(r),i="v"in e,s=e.v;l(r,e,o),M(t,r,e),i&&Object.is(s,e.v)||(_(t,r,e),f(t,r))}k(t)}}},j=(0,r.createContext)(void 0),M=e=>{let{children:t,store:n}=e,l=(0,r.useRef)();return n||l.current||(l.current=E()),(0,r.createElement)(j.Provider,{value:n||l.current},t)};r.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;if("rejected"===e.status)throw e.reason;throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e});let O=e=>{let{children:t}=e;return(0,l.jsx)(M,{children:t})}},7675:function(){}},function(e){e.O(0,[116,170,842,744],function(){return e(e.s=2088)}),_N_E=e.O()}]);